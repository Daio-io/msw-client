<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: MswClient</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: MswClient</h1>
    
    



<section>
    
<header>
    <h2>
    MswClient
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="MswClient"><span class="type-signature"></span>new MswClient<span class="signature">(_config)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        The MswClient allows easy communication with the Magic Seaweed API.
Configuration apikey and spot_id are required on creation. Optional fields can also
be passed in with the configuration if required.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>_config</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">configuration object needed to instantiate client</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line17">line 17</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Create new instance of MswClient
var MSW = require('msw-client');
var MswClient = new MSW({
    apikey: 'YOUR_API_KEY',
    spot_id: 2, // must be a number
    fields: ['timestamp', 'wind'] // Optional array of fields
});</code></pre>

    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="addField"><span class="type-signature"></span>addField<span class="signature">(fieldName)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient allows use of fields to filter data returned from Magic Seaweed API to only include
data from those fields. This method allows you to add single fields to your requests.
If you try to add an existing field it will not duplicate.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>fieldName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Field name to be set for requests</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line197">line 197</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code add a field
MswClient.addField('timestamp');
MswClient.addField('wind');

// All proceeding requests will only include data from these fields.</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="addFields"><span class="type-signature"></span>addFields<span class="signature">(fieldsArray)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient allows use of fields to filter data returned from Magic Seaweed API to only include
data from those fields. This method allows you to add multiple fields to your requests.
If you try to add an existing field it will not duplicate.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>fieldsArray</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>
            
            
            
            
            
            <td class="description last">String Array of field names to be set for requests</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line227">line 227</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code add fields
MswClient.addFields(['timestamp', 'wind']);

// All proceeding requests will only include data from these fields.</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="exec"><span class="type-signature"></span>exec<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Allows you to execute a request with a returned promise to get data.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line392">line 392</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    - Promise data request
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Promise</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code to make promise request
MswClient.exec().then(function(data) {

     console.log(data); // This will return Array of Objects as per Magic Seaweed response Documentation

}).catch(function(err){

    console.log(err); // This will return the error object

});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="getFields"><span class="type-signature"></span>getFields<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient allows use of fields to filter data returned from Magic Seaweed API to only include
data from those fields. This method allows you to get a list of fields set.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line261">line 261</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    - String Array of all fields currently set (Empty if no fields set).
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Array</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code get fields
MswClient.getFields(); // returns ['timestamp', 'wind'];</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="getRequestEndpoint"><span class="type-signature"></span>getRequestEndpoint<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Method to return the full constructed URL endpoint, including any set parameters and fields,
for the Magic Seaweed API.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line149">line 149</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    requestEndpoint - The full URL endpoint (including any filters) for current requests.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code get request endpoint
MswClient.getRequestEndpoint(); //  return string URL</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="getSpotId"><span class="type-signature"></span>getSpotId<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient uses a spotId to provide data for that spot / beach location on
successful request. This method allows you to get the current spot id for requests.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line80">line 80</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    spotId - Id number of spot / beach location.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">number</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code get spot id
MswClient.getSpotId(); //  return value</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="getUnits"><span class="type-signature"></span>getUnits<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient uses a units value to change the measurements and temperature.
i.e. us will have F instead of C for temperature. This method returns
the currently set units. The default value is 'uk' if not set.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line125">line 125</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    units - Currently set country units
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">String</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code get the set units
MswClient.getUnits(); //  returns value 'uk'

MswClient.setUnits('us');

MswClient.getUnits(); //  returns value 'us'</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="removeField"><span class="type-signature"></span>removeField<span class="signature">(fieldName)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient allows use of fields to filter data returned from Magic Seaweed API to only include
data from those fields. This method allows you to remove single fields from your requests.
If you try to remove a field that does not it exist, it will be ignored.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>fieldName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Field name to be removed</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line282">line 282</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code remove a field
MswClient.removeField('timestamp');

// All proceeding requests will no longer include this field.</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="removeFields"><span class="type-signature"></span>removeFields<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient allows use of fields to filter data returned from Magic Seaweed API to only include
data from those fields. This method allows you to remove all fields set.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line310">line 310</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code remove fields
MswClient.removeFields();

// All proceeding requests will no longer include any fields.</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="request"><span class="type-signature"></span>request<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Allows you to make a request to return data from the Magic Seaweed API.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Callback function which takes an error and data parameter. callback(err, data);</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line332">line 332</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code to make a request
MswClient.request( function (err, data) {

     if (err) {
         console.log(err); // {status: 'Error', msg: 'Error message here'}
         console.log(data); // undefined
     }

     console.log(err); // undefined if no error
     console.log(data); // This will return Array of Objects as per Magic Seaweed response Documentation

});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="setSpotId"><span class="type-signature"></span>setSpotId<span class="signature">(spotId)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient uses a spotId to provide data for that spot / beach location on
successful request. This method allows you to update the spotId so the location
can be changed at any point during runtime.
To find your spot_id visit the surf report for that beach on the Magic Seaweed website and look at the url:
http://magicseaweed.com/Porthcawl-Rest-Bay-Surf-Report/1449/ - spot id is the last parameter
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>spotId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Id number of spot / beach location</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line54">line 54</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code set a new spot id
MswClient.setSpotId(5); //  change spot id to location 5</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="setUnits"><span class="type-signature"></span>setUnits<span class="signature">(units)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        MswClient uses a units value to change the measurements and temperature.
i.e. us will have F instead of C for temperature.
You can set the units to one of these valid values: 'uk', 'us' or 'eu'. This defaults to 'uk' if not set.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>units</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Unit country code - 'uk', 'us' or 'eu'</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="msw.client.js.html">msw.client.js</a>, <a href="msw.client.js.html#line100">line 100</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// In your code set a new spot id
MswClient.setUnits('us'); //  set Unit to us e.g. temperature will be F</code></pre>

    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-MswClient.html">MswClient</a></li></ul><h3>Classes</h3><ul><li><a href="MswClient.html">MswClient</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Sun May 03 2015 11:19:47 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>